<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>注册页面</title>
</head>
<body>
    <h2>注册</h2>
    <form id="registerForm" action="http://127.0.0.1:8000/register" method="post">
        <label for="username">用户名:</label><br>
        <input type="text" id="username" name="username" required><br>
        <label for="password">密码:</label><br>
        <input type="password" id="password" name="password" required><br>
        <input type="submit" value="提交">
    </form>
</body>
<script>
    document.getElementById("registerForm").addEventListener("submit", function(event) {
        event.preventDefault(); // 阻止表单的默认提交行为

        const form = event.target;
        const formData = new FormData(form);
        const jsonData = {};

        // 将表单数据转换为JSON格式
        for (const pair of formData.entries()) {
            jsonData[pair[0]] = pair[1];
        }

        // 发送JSON数据到服务器
        fetch(form.action, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(jsonData)
        })
        .then(response => response.json())
        .then(data => {
            // 处理服务器响应
            console.log(data);
        })
        .catch(error => {
            // 处理错误
            console.error(error);
        });
    });
</script>
</html>
